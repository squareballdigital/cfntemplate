<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>UpdatePolicy | @squareball/cfntemplate</title><meta name="description" content="Documentation for @squareball/cfntemplate"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@squareball/cfntemplate</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@squareball/cfntemplate</a></li><li><a href="UpdatePolicy.html">UpdatePolicy</a></li></ul><h1>Interface UpdatePolicy </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Use the <code>UpdatePolicy</code> attribute to specify how AWS CloudFormation handles
updates to the <code>AWS::AppStream::Fleet</code>,
<code>AWS::AutoScaling::AutoScalingGroup</code>, <code>AWS::ElastiCache::ReplicationGroup</code>,
<code>AWS::OpenSearchService::Domain</code>, <code>AWS::Elasticsearch::Domain</code>, or
<code>AWS::Lambda::Alias resources</code>.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" class="external">UpdatePolicy attribute</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">UpdatePolicy</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#AutoScalingReplacing" class="tsd-kind-icon">Auto<wbr/>Scaling<wbr/>Replacing</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#AutoScalingRollingUpdate" class="tsd-kind-icon">Auto<wbr/>Scaling<wbr/>Rolling<wbr/>Update</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#AutoScalingScheduledAction" class="tsd-kind-icon">Auto<wbr/>Scaling<wbr/>Scheduled<wbr/>Action</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#CodeDeployLambdaAliasUpdate" class="tsd-kind-icon">Code<wbr/>Deploy<wbr/>Lambda<wbr/>Alias<wbr/>Update</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#EnableVersionUpgrade" class="tsd-kind-icon">Enable<wbr/>Version<wbr/>Upgrade</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#UseOnlineResharding" class="tsd-kind-icon">Use<wbr/>Online<wbr/>Resharding</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="AutoScalingReplacing" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Auto<wbr/>Scaling<wbr/>Replacing<a href="#AutoScalingReplacing" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Auto<wbr/>Scaling<wbr/>Replacing<span class="tsd-signature-symbol">?:</span> <a href="AutoScalingReplacingUpdatePolicy.html" class="tsd-signature-type" data-tsd-kind="Interface">AutoScalingReplacingUpdatePolicy</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/3e26817/src/template/UpdatePolicy.ts#L25">template/UpdatePolicy.ts:25</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>To specify how AWS CloudFormation handles replacement updates for an Auto
Scaling group, use the AutoScalingReplacingUpdate policy. This policy
enables you to specify whether AWS CloudFormation replaces an Auto Scaling
group with a new one or replaces only the instances in the Auto Scaling
group.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html#cfn-attributes-updatepolicy-replacingupdate" class="external">AutoScalingReplacing update policy</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="AutoScalingRollingUpdate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Auto<wbr/>Scaling<wbr/>Rolling<wbr/>Update<a href="#AutoScalingRollingUpdate" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Auto<wbr/>Scaling<wbr/>Rolling<wbr/>Update<span class="tsd-signature-symbol">?:</span> <a href="AutoScalingRollingUpdatePolicy.html" class="tsd-signature-type" data-tsd-kind="Interface">AutoScalingRollingUpdatePolicy</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/3e26817/src/template/UpdatePolicy.ts#L47">template/UpdatePolicy.ts:47</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>To specify how CloudFormation handles rolling updates for an Auto Scaling
group, use the <code>AutoScalingRollingUpdate</code> policy. Rolling updates enable
you to specify whether AWS CloudFormation updates instances that are in an
Auto Scaling group in batches or all at once.</p>
</div><div><p>Be aware that, during stack update rollback operations, CloudFormation uses
the <code>UpdatePolicy</code> configuration specified in the template before the
current stack update operation. For example, suppose you have updated the
<code>MaxBatchSize</code> in your stack template&#39;s <code>UpdatePolicy</code> from 1 to 10. You
then perform a stack update, and that update fails and CloudFormation
initiates an update rollback operation. In such a case, CloudFormation will
use 1 as the maximum batch size, rather than 10. For this reason, we
recommend you make changes to the UpdatePolicy configuration in a stack
update separate from and before any updates to the
<code>AWS::AutoScaling::AutoScalingGroup</code> resource that are likely to initiate
rolling updates.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html#cfn-attributes-updatepolicy-rollingupdate" class="external">AutoScalingRollingUpdate policy</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="AutoScalingScheduledAction" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Auto<wbr/>Scaling<wbr/>Scheduled<wbr/>Action<a href="#AutoScalingScheduledAction" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Auto<wbr/>Scaling<wbr/>Scheduled<wbr/>Action<span class="tsd-signature-symbol">?:</span> <a href="AutoScalingScheduledActionPolicy.html" class="tsd-signature-type" data-tsd-kind="Interface">AutoScalingScheduledActionPolicy</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/3e26817/src/template/UpdatePolicy.ts#L71">template/UpdatePolicy.ts:71</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>To specify how AWS CloudFormation handles updates for the <code>MinSize</code>,
<code>MaxSize</code>, and <code>DesiredCapacity</code> properties when the
<code>AWS::AutoScaling::AutoScalingGroup</code> resource has an associated scheduled
action, use the <code>AutoScalingScheduledAction</code> policy.</p>
</div><div><p>With scheduled actions, the group size properties of an Auto Scaling group
can change at any time. When you update a stack with an Auto Scaling group
and scheduled action, CloudFormation always sets the group size property
values of your Auto Scaling group to the values that are defined in the
<code>AWS::AutoScaling::AutoScalingGroup</code> resource of your template, even if a
scheduled action is in effect.</p>
<p>If you don&#39;t want CloudFormation to change any of the group size property
values when you have a scheduled action in effect, use the
<code>AutoScalingScheduledAction</code> update policy and set
<code>IgnoreUnmodifiedGroupSizeProperties</code> to true to prevent CloudFormation
from changing the <code>MinSize</code>, <code>MaxSize</code>, or <code>DesiredCapacity</code> properties
unless you have modified these values in your template.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html#cfn-attributes-updatepolicy-scheduledactions" class="external">AutoScalingScheduledAction policy</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="CodeDeployLambdaAliasUpdate" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Code<wbr/>Deploy<wbr/>Lambda<wbr/>Alias<wbr/>Update<a href="#CodeDeployLambdaAliasUpdate" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Code<wbr/>Deploy<wbr/>Lambda<wbr/>Alias<wbr/>Update<span class="tsd-signature-symbol">?:</span> <a href="CodeDeployLambdaAliasUpdatePolicy.html" class="tsd-signature-type" data-tsd-kind="Interface">CodeDeployLambdaAliasUpdatePolicy</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/3e26817/src/template/UpdatePolicy.ts#L80">template/UpdatePolicy.ts:80</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>To perform an CodeDeploy deployment when the version changes on an
<code>AWS::Lambda::Alias</code> resource, use the <code>CodeDeployLambdaAliasUpdate</code> update
policy.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html#cfn-attributes-updatepolicy-codedeploylambdaaliasupdate" class="external">CodeDeployLambdaAlias update policy</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="EnableVersionUpgrade" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Enable<wbr/>Version<wbr/>Upgrade<a href="#EnableVersionUpgrade" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Enable<wbr/>Version<wbr/>Upgrade<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/3e26817/src/template/UpdatePolicy.ts#L99">template/UpdatePolicy.ts:99</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>To upgrade an OpenSearch Service domain to a new version of OpenSearch or
Elasticsearch rather than replacing the entire
<code>AWS::OpenSearchService::Domain</code> or <code>AWS::Elasticsearch::Domain</code> resource, use
the <code>EnableVersionUpgrade</code> update policy.</p>
</div><div><p>If <code>EnableVersionUpgrade</code> is set to true, you can update the <code>EngineVersion</code>
property of the <code>AWS::OpenSearchService::Domain</code> resource (or the
<code>ElasticsearchVersion</code> property of the legacy <code>AWS::Elasticsearch::Domain</code>
resource), and CloudFormation will update that property without
interruption. When <code>EnableVersionUpgrade</code> is set to false, or not specified,
updating the <code>EngineVersion</code> or <code>ElasticsearchVersion</code> property results in
CloudFormation replacing the entire
<code>AWS::OpenSearchService::Domain</code>/<code>AWS::Elasticsearch::Domain</code> resource.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html#cfn-attributes-updatepolicy-upgradeopensearchdomain" class="external">EnableVersionUpgrade policy</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="UseOnlineResharding" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Use<wbr/>Online<wbr/>Resharding<a href="#UseOnlineResharding" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Use<wbr/>Online<wbr/>Resharding<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/3e26817/src/template/UpdatePolicy.ts#L116">template/UpdatePolicy.ts:116</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>To modify a replication group&#39;s shards by adding or removing shards, rather
than replacing the entire <code>AWS::ElastiCache::ReplicationGroup</code> resource,
use the <code>UseOnlineResharding</code> update policy.</p>
</div><div><p>If <code>UseOnlineResharding</code> is set to true, you can update the <code>NumNodeGroups</code>
and <code>NodeGroupConfiguration</code> properties of the
<code>AWS::ElastiCache::ReplicationGroup</code> resource, and CloudFormation will
update those properties without interruption. When <code>UseOnlineResharding</code> is
set to false, or not specified, updating the <code>NumNodeGroups</code> and
<code>NodeGroupConfiguration</code> properties results in CloudFormation replacing the
entire <code>AWS::ElastiCache::ReplicationGroup</code> resource.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html#cfn-attributes-updatepolicy-useonlineresharding" class="external">UseOnlineResharding policy</a></p>
</dd></dl></div></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-interface"><a href="UpdatePolicy.html" class="tsd-kind-icon">Update<wbr/>Policy</a><ul><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#AutoScalingReplacing" class="tsd-kind-icon">Auto<wbr/>Scaling<wbr/>Replacing</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#AutoScalingRollingUpdate" class="tsd-kind-icon">Auto<wbr/>Scaling<wbr/>Rolling<wbr/>Update</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#AutoScalingScheduledAction" class="tsd-kind-icon">Auto<wbr/>Scaling<wbr/>Scheduled<wbr/>Action</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#CodeDeployLambdaAliasUpdate" class="tsd-kind-icon">Code<wbr/>Deploy<wbr/>Lambda<wbr/>Alias<wbr/>Update</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#EnableVersionUpgrade" class="tsd-kind-icon">Enable<wbr/>Version<wbr/>Upgrade</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="UpdatePolicy.html#UseOnlineResharding" class="tsd-kind-icon">Use<wbr/>Online<wbr/>Resharding</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>