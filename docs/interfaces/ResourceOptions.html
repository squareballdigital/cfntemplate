<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ResourceOptions | @squareball/cfntemplate</title><meta name="description" content="Documentation for @squareball/cfntemplate"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@squareball/cfntemplate</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@squareball/cfntemplate</a></li><li><a href="ResourceOptions.html">ResourceOptions</a></li></ul><h1>Interface ResourceOptions </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Represents the additional options for a resource definition (other than
<code>Type</code> and Properties.)</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html" class="external">AWS resource and property types reference</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">ResourceOptions</span><ul class="tsd-hierarchy"><li><a href="ResourceDefinitionBase.html" class="tsd-signature-type" data-tsd-kind="Interface">ResourceDefinitionBase</a></li></ul></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#CreationPolicy" class="tsd-kind-icon">Creation<wbr/>Policy</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#DeletionPolicy" class="tsd-kind-icon">Deletion<wbr/>Policy</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#DependsOn" class="tsd-kind-icon">Depends<wbr/>On</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#Metadata" class="tsd-kind-icon">Metadata</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#UpdatePolicy" class="tsd-kind-icon">Update<wbr/>Policy</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#UpdateReplacePolicy" class="tsd-kind-icon">Update<wbr/>Replace<wbr/>Policy</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="CreationPolicy" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Creation<wbr/>Policy<a href="#CreationPolicy" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Creation<wbr/>Policy<span class="tsd-signature-symbol">?:</span> <a href="CreationPolicy.html" class="tsd-signature-type" data-tsd-kind="Interface">CreationPolicy</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/2e02259/src/template/ResourceDefinition.ts#L27">template/ResourceDefinition.ts:27</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Associate the <code>CreationPolicy</code> attribute with a resource to prevent its
status from reaching create complete until AWS CloudFormation receives a
specified number of success signals or the timeout period is exceeded. To
signal a resource, you can use the <code>cfn-signal</code> helper script or
<a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/APIReference/API_SignalResource.html">SignalResource
API</a>.
CloudFormation publishes valid signals to the stack events so that you
track the number of signals sent.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-creationpolicy.html" class="external">CreationPolicy attribute</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="DeletionPolicy" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Deletion<wbr/>Policy<a href="#DeletionPolicy" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Deletion<wbr/>Policy<span class="tsd-signature-symbol">?:</span> <a href="../enums/DeletionPolicy.html" class="tsd-signature-type" data-tsd-kind="Enumeration">DeletionPolicy</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/2e02259/src/template/ResourceDefinition.ts#L61">template/ResourceDefinition.ts:61</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>With the <code>DeletionPolicy</code> attribute you can preserve, and in some cases,
backup a resource when its stack is deleted. You specify a <code>DeletionPolicy</code>
attribute for each resource that you want to control. If a resource has no
<code>DeletionPolicy</code> attribute, AWS CloudFormation deletes the resource by
default, except for:</p>
</div><div><ul>
<li>For <code>AWS::RDS::DBCluster resources</code>, the default policy is <code>Snapshot</code>.</li>
<li>For <code>AWS::RDS::DBInstance</code> resources that don&#39;t specify the
<code>DBClusterIdentifier</code> property, the default policy is <code>Snapshot</code>.</li>
<li>For Amazon S3 buckets, you must delete all objects in the bucket for
deletion to succeed.</li>
</ul>
<p>This capability also applies to stack update operations that lead to
resources being deleted from stacks. For example, if you remove the
resource from the stack template, and then update the stack with the
template. This capability doesn&#39;t apply to resources whose physical
instance is replaced during stack update operations. For example, if you
edit a resource&#39;s properties such that CloudFormation replaces that
resource during a stack update.</p>
<p>To keep a resource when its stack is deleted, specify Retain for that
resource. You can use retain for any resource. For example, you can retain
a nested stack, Amazon S3 bucket, or EC2 instance so that you can continue
to use or modify those resources after you delete their stacks.</p>
<p>For resources that support snapshots, such as <code>AWS::EC2::Volume</code>, specify
Snapshot to have CloudFormation create a snapshot before deleting the
resource.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-deletionpolicy.html" class="external">DeletionPolicy attribute</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="DependsOn" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Depends<wbr/>On<a href="#DependsOn" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Depends<wbr/>On<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/2e02259/src/template/ResourceDefinition.ts#L71">template/ResourceDefinition.ts:71</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>With the <code>DependsOn</code> attribute you can specify that the creation of a
specific resource follows another. When you add a <code>DependsOn</code> attribute to
a resource, that resource is created only after the creation of the
resource specified in the <code>DependsOn</code> attribute.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html" class="external">DependsOn attribute</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="Metadata" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Metadata<a href="#Metadata" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Metadata<span class="tsd-signature-symbol">?:</span> <a href="TemplateMap.html" class="tsd-signature-type" data-tsd-kind="Interface">TemplateMap</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/2e02259/src/template/ResourceDefinition.ts#L85">template/ResourceDefinition.ts:85</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The metadata attribute enables you to associate structured data with a
resource. By adding a metadata attribute to a resource, you can add data in
JSON or YAML to the resource declaration. In addition, you can use
intrinsic functions (such as <code>GetAtt</code> and <code>Ref</code>), parameters, and pseudo
parameters within the metadata attribute to add those interpreted values.</p>
</div><div><p>AWS CloudFormation doesn&#39;t validate the syntax within the metadata
attribute.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-metadata.html" class="external">Metadata attribute</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="UpdatePolicy" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Update<wbr/>Policy<a href="#UpdatePolicy" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Update<wbr/>Policy<span class="tsd-signature-symbol">?:</span> <a href="UpdatePolicy.html" class="tsd-signature-type" data-tsd-kind="Interface">UpdatePolicy</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/2e02259/src/template/ResourceDefinition.ts#L96">template/ResourceDefinition.ts:96</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Use the <code>UpdatePolicy</code> attribute to specify how AWS CloudFormation handles
updates to the <code>AWS::AppStream::Fleet</code>,
<code>AWS::AutoScaling::AutoScalingGroup</code>, <code>AWS::ElastiCache::ReplicationGroup</code>,
<code>AWS::OpenSearchService::Domain</code>, <code>AWS::Elasticsearch::Domain</code>, or
<code>AWS::Lambda::Alias resources</code>.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html" class="external">UpdatePolicy attribute</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="UpdateReplacePolicy" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Update<wbr/>Replace<wbr/>Policy<a href="#UpdateReplacePolicy" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Update<wbr/>Replace<wbr/>Policy<span class="tsd-signature-symbol">?:</span> <a href="../enums/DeletionPolicy.html" class="tsd-signature-type" data-tsd-kind="Enumeration">DeletionPolicy</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/2e02259/src/template/ResourceDefinition.ts#L143">template/ResourceDefinition.ts:143</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Use the UpdateReplacePolicy attribute to retain or, in some cases, backup
the existing physical instance of a resource when it&#39;s replaced during a
stack update operation.</p>
</div><div><p>When you initiate a stack update, AWS CloudFormation updates resources
based on differences between what you submit and the stack&#39;s current
template and parameters. If you update a resource property that requires
that the resource be replaced, CloudFormation recreates the resource during
the update. Recreating the resource generates a new physical ID.
CloudFormation creates the replacement resource first, and then changes
references from other dependent resources to point to the replacement
resource. By default, CloudFormation then deletes the old resource. Using
the <code>UpdateReplacePolicy</code>, you can specify that CloudFormation retain or,
in some cases, create a snapshot of the old resource.</p>
<p>For resources that support snapshots, such as <code>AWS::EC2::Volume</code>, specify
Snapshot to have CloudFormation create a snapshot before deleting the old
resource instance.</p>
<p>You can apply the <code>UpdateReplacePolicy</code> attribute to any resource.
<code>UpdateReplacePolicy</code> is only executed if you update a resource property
whose update behavior is specified as Replacement, thereby causing
CloudFormation to replace the old resource with a new one with a new
physical ID. For example, if you update the Engine property of an
<code>AWS::RDS::DBInstance</code> resource type, CloudFormation creates a new resource
and replaces the current DB instance resource with the new one. The
<code>UpdateReplacePolicy</code> attribute would then dictate whether CloudFormation
deleted, retained, or created a snapshot of the old DB instance. The update
behavior for each property of a resource is specified in the reference
topic for that resource in the AWS resource and property types reference.
For more information on resource update behavior, see Update behaviors of
stack resources.</p>
<p>The <code>UpdateReplacePolicy</code> attribute applies to stack updates you perform
directly, in addition to stack updates performed using change sets.</p>
<p><code>UpdateReplacePolicy</code> differs from the <code>DeletionPolicy</code> attribute in that
it only applies to resources replaced during stack updates. Use
<code>DeletionPolicy</code> for resources deleted when a stack is deleted, or when the
resource definition itself is deleted from the template as part of a stack
update.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatereplacepolicy.html" class="external">UpdateReplacePolicy attribute</a></p>
</dd></dl></div></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-interface"><a href="ResourceOptions.html" class="tsd-kind-icon">Resource<wbr/>Options</a><ul><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#CreationPolicy" class="tsd-kind-icon">Creation<wbr/>Policy</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#DeletionPolicy" class="tsd-kind-icon">Deletion<wbr/>Policy</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#DependsOn" class="tsd-kind-icon">Depends<wbr/>On</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#Metadata" class="tsd-kind-icon">Metadata</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#UpdatePolicy" class="tsd-kind-icon">Update<wbr/>Policy</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="ResourceOptions.html#UpdateReplacePolicy" class="tsd-kind-icon">Update<wbr/>Replace<wbr/>Policy</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>