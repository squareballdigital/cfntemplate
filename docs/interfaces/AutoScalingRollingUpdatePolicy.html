<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>AutoScalingRollingUpdatePolicy | @squareball/cfntemplate</title><meta name="description" content="Documentation for @squareball/cfntemplate"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@squareball/cfntemplate</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@squareball/cfntemplate</a></li><li><a href="AutoScalingRollingUpdatePolicy.html">AutoScalingRollingUpdatePolicy</a></li></ul><h1>Interface AutoScalingRollingUpdatePolicy </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>To specify how CloudFormation handles rolling updates for an Auto Scaling
group, use the <code>AutoScalingRollingUpdate</code> policy. Rolling updates enable you
to specify whether AWS CloudFormation updates instances that are in an Auto
Scaling group in batches or all at once.</p>
</div><div><p>Be aware that, during stack update rollback operations, CloudFormation uses
the <code>UpdatePolicy</code> configuration specified in the template before the current
stack update operation. For example, suppose you have updated the
<code>MaxBatchSize</code> in your stack template&#39;s <code>UpdatePolicy</code> from 1 to 10. You then
perform a stack update, and that update fails and CloudFormation initiates an
update rollback operation. In such a case, CloudFormation will use 1 as the
maximum batch size, rather than 10. For this reason, we recommend you make
changes to the UpdatePolicy configuration in a stack update separate from and
before any updates to the <code>AWS::AutoScaling::AutoScalingGroup</code> resource that
are likely to initiate rolling updates.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-updatepolicy.html#cfn-attributes-updatepolicy-rollingupdate" class="external">AutoScalingRollingUpdate policy</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">AutoScalingRollingUpdatePolicy</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#MaxBatchSize" class="tsd-kind-icon">Max<wbr/>Batch<wbr/>Size</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#MinInstancesInService" class="tsd-kind-icon">Min<wbr/>Instances<wbr/>In<wbr/>Service</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#MinSuccessfulInstancesPercent" class="tsd-kind-icon">Min<wbr/>Successful<wbr/>Instances<wbr/>Percent</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#PauseTime" class="tsd-kind-icon">Pause<wbr/>Time</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#SuspendProcesses" class="tsd-kind-icon">Suspend<wbr/>Processes</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#WaitOnResourceSignals" class="tsd-kind-icon">Wait<wbr/>On<wbr/>Resource<wbr/>Signals</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="MaxBatchSize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Max<wbr/>Batch<wbr/>Size<a href="#MaxBatchSize" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Max<wbr/>Batch<wbr/>Size<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/7fb5634/src/template/AutoScalingRollingUpdatePolicy.ts#L27">template/AutoScalingRollingUpdatePolicy.ts:27</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Specifies the maximum number of instances that CloudFormation updates.</p>
</div><dl class="tsd-comment-tags"><dt>default</dt><dd><p>1</p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="MinInstancesInService" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Min<wbr/>Instances<wbr/>In<wbr/>Service<a href="#MinInstancesInService" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Min<wbr/>Instances<wbr/>In<wbr/>Service<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/7fb5634/src/template/AutoScalingRollingUpdatePolicy.ts#L36">template/AutoScalingRollingUpdatePolicy.ts:36</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Specifies the minimum number of instances that must be in service within
the Auto Scaling group while CloudFormation updates old instances. This
value must be less than the <code>MaxSize</code> of the Auto Scaling group.\</p>
</div><dl class="tsd-comment-tags"><dt>default</dt><dd><p>0</p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="MinSuccessfulInstancesPercent" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Min<wbr/>Successful<wbr/>Instances<wbr/>Percent<a href="#MinSuccessfulInstancesPercent" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Min<wbr/>Successful<wbr/>Instances<wbr/>Percent<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/7fb5634/src/template/AutoScalingRollingUpdatePolicy.ts#L59">template/AutoScalingRollingUpdatePolicy.ts:59</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Specifies the percentage of instances in an Auto Scaling rolling update
that must signal success for an update to succeed. You can specify a value
from <code>0</code> to <code>100</code>. CloudFormation rounds to the nearest tenth of a percent.
For example, if you update five instances with a minimum successful
percentage of <code>50</code>, three instances must signal success.</p>
</div><div><p>If an instance doesn&#39;t send a signal within the time specified in the
<code>PauseTime</code> property, CloudFormation assumes that the instance wasn&#39;t
updated.</p>
<p>If you specify this property, you must also enable the
<code>WaitOnResourceSignals</code> and <code>PauseTime</code> properties.</p>
<p>The <code>MinSuccessfulInstancesPercent</code> parameter applies only to instances
only for signaling purpose. To specify the number of instances in your
autoscaling group, see the <code>MinSize</code>, <code>MaxSize</code>, and <code>DesiredCapacity</code>
properties fo the <code>AWS::AutoScaling::AutoScalingGroup</code> resource.</p>
</div><dl class="tsd-comment-tags"><dt>default</dt><dd><p>100</p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="PauseTime" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Pause<wbr/>Time<a href="#PauseTime" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Pause<wbr/>Time<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/7fb5634/src/template/AutoScalingRollingUpdatePolicy.ts#L83">template/AutoScalingRollingUpdatePolicy.ts:83</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The amount of time that CloudFormation pauses after making a change to a
batch of instances to give those instances time to start software
applications. For example, you might need to specify <code>PauseTime</code> when
scaling up the number of instances in an Auto Scaling group.</p>
</div><div><p>If you enable the WaitOnResourceSignals property, <code>PauseTime</code> is the amount
of time that CloudFormation should wait for the Auto Scaling group to
receive the required number of valid signals from added or replaced
instances. If the <code>PauseTime</code> is exceeded before the Auto Scaling group
receives the required number of signals, the update fails. For best
results, specify a time period that gives your applications sufficient time
to get started. If the update needs to be rolled back, a short <code>PauseTime</code>
can cause the rollback to fail.</p>
<p>Specify <code>PauseTime</code> in the ISO8601 duration format (in the format
<code>PT#H#M#S</code>, where each <code>#</code> is the number of hours, minutes, and seconds,
respectively). The maximum <code>PauseTime</code> is one hour (<code>PT1H</code>).</p>
<p><strong>Default:</strong> <code>PT0S</code> (0 seconds). If the <code>WaitOnResourceSignals</code> property is
set to true, the default is <code>PT5M</code>.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="SuspendProcesses" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Suspend<wbr/>Processes<a href="#SuspendProcesses" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Suspend<wbr/>Processes<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/7fb5634/src/template/AutoScalingRollingUpdatePolicy.ts#L93">template/AutoScalingRollingUpdatePolicy.ts:93</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Specifies the Auto Scaling processes to suspend during a stack update.
Suspending processes prevents Auto Scaling from interfering with a stack
update. For example, you can suspend alarming so that Amazon EC2 Auto
Scaling doesn&#39;t execute scaling policies associated with an alarm. For
valid values, see the <code>ScalingProcesses.member.N</code> parameter for the
SuspendProcesses action in the Amazon EC2 Auto Scaling API Reference.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="WaitOnResourceSignals" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> Wait<wbr/>On<wbr/>Resource<wbr/>Signals<a href="#WaitOnResourceSignals" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Wait<wbr/>On<wbr/>Resource<wbr/>Signals<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/7fb5634/src/template/AutoScalingRollingUpdatePolicy.ts#L112">template/AutoScalingRollingUpdatePolicy.ts:112</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Specifies whether the Auto Scaling group waits on signals from new
instances during an update. Use this property to ensure that instances have
completed installing and configuring applications before the Auto Scaling
group update proceeds. AWS CloudFormation suspends the update of an Auto
Scaling group after new EC2 instances are launched into the group. AWS
CloudFormation must receive a signal from each new instance within the
specified PauseTime before continuing the update. To signal the Auto
Scaling group, use the <code>cfn-signal</code> helper script or SignalResource API.</p>
</div><div><p>To have instances wait for an Elastic Load Balancing health check before
they signal success, add a health-check verification by using the <code>cfn-init</code>
helper script. For an example, see the <code>verify_instance_health</code> command in
the Auto Scaling rolling updates sample template.</p>
</div><dl class="tsd-comment-tags"><dt>default</dt><dd><p>false</p>
</dd></dl></div></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html" class="tsd-kind-icon">Auto<wbr/>Scaling<wbr/>Rolling<wbr/>Update<wbr/>Policy</a><ul><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#MaxBatchSize" class="tsd-kind-icon">Max<wbr/>Batch<wbr/>Size</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#MinInstancesInService" class="tsd-kind-icon">Min<wbr/>Instances<wbr/>In<wbr/>Service</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#MinSuccessfulInstancesPercent" class="tsd-kind-icon">Min<wbr/>Successful<wbr/>Instances<wbr/>Percent</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#PauseTime" class="tsd-kind-icon">Pause<wbr/>Time</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#SuspendProcesses" class="tsd-kind-icon">Suspend<wbr/>Processes</a></li><li class="tsd-kind-property tsd-parent-kind-interface"><a href="AutoScalingRollingUpdatePolicy.html#WaitOnResourceSignals" class="tsd-kind-icon">Wait<wbr/>On<wbr/>Resource<wbr/>Signals</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>