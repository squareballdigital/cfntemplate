<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>DeletionPolicy | @squareball/cfntemplate</title><meta name="description" content="Documentation for @squareball/cfntemplate"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@squareball/cfntemplate</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@squareball/cfntemplate</a></li><li><a href="DeletionPolicy.html">DeletionPolicy</a></li></ul><h1>Enumeration DeletionPolicy </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>With the <code>DeletionPolicy</code> attribute you can preserve, and in some cases,
backup a resource when its stack is deleted. You specify a <code>DeletionPolicy</code>
attribute for each resource that you want to control. If a resource has no
<code>DeletionPolicy</code> attribute, AWS CloudFormation deletes the resource by
default, except for:</p>
</div><div><ul>
<li>For <code>AWS::RDS::DBCluster resources</code>, the default policy is <code>Snapshot</code>.</li>
<li>For <code>AWS::RDS::DBInstance</code> resources that don&#39;t specify the
<code>DBClusterIdentifier</code> property, the default policy is <code>Snapshot</code>.</li>
<li>For Amazon S3 buckets, you must delete all objects in the bucket for
deletion to succeed.</li>
</ul>
<p>This capability also applies to stack update operations that lead to
resources being deleted from stacks. For example, if you remove the resource
from the stack template, and then update the stack with the template. This
capability doesn&#39;t apply to resources whose physical instance is replaced
during stack update operations. For example, if you edit a resource&#39;s
properties such that CloudFormation replaces that resource during a stack
update.</p>
<p>To keep a resource when its stack is deleted, specify Retain for that
resource. You can use retain for any resource. For example, you can retain a
nested stack, Amazon S3 bucket, or EC2 instance so that you can continue to
use or modify those resources after you delete their stacks.</p>
<p>For resources that support snapshots, such as <code>AWS::EC2::Volume</code>, specify
Snapshot to have CloudFormation create a snapshot before deleting the
resource.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-deletionpolicy.html" class="external">DeletionPolicy attribute</a></p>
</dd></dl></div></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Enumeration members</h3><ul class="tsd-index-list"><li class="tsd-kind-enum-member tsd-parent-kind-enum"><a href="DeletionPolicy.html#Delete" class="tsd-kind-icon">Delete</a></li><li class="tsd-kind-enum-member tsd-parent-kind-enum"><a href="DeletionPolicy.html#Retain" class="tsd-kind-icon">Retain</a></li><li class="tsd-kind-enum-member tsd-parent-kind-enum"><a href="DeletionPolicy.html#Snapshot" class="tsd-kind-icon">Snapshot</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Enumeration members</h2><section class="tsd-panel tsd-member tsd-kind-enum-member tsd-parent-kind-enum"><a id="Delete" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Delete<a href="#Delete" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Delete<span class="tsd-signature-symbol"> = &quot;Delete&quot;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/bc0b519/src/template/DeletionPolicy.ts#L47">template/DeletionPolicy.ts:47</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>CloudFormation deletes the resource and all its content if applicable
during stack deletion. You can add this deletion policy to any resource
type. By default, if you don&#39;t specify a <code>DeletionPolicy</code>, CloudFormation
deletes your resources. However, be aware of the following considerations:</p>
</div><div><ul>
<li>For <code>AWS::RDS::DBCluster resources</code>, the default policy is <code>Snapshot</code>.</li>
<li>For <code>AWS::RDS::DBInstance</code> resources that don&#39;t specify the
<code>DBClusterIdentifier</code> property, the default policy is <code>Snapshot</code>.</li>
</ul>
<p>For Amazon S3 buckets, you must delete all objects in the bucket for
deletion to succeed.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-enum-member tsd-parent-kind-enum"><a id="Retain" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Retain<a href="#Retain" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Retain<span class="tsd-signature-symbol"> = &quot;Retain&quot;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/bc0b519/src/template/DeletionPolicy.ts#L65">template/DeletionPolicy.ts:65</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>CloudFormation keeps the resource without deleting the resource or its
contents when its stack is deleted. You can add this deletion policy to any
resource type. When CloudFormation completes the stack deletion, the stack
will be in <code>Delete_Complete</code> state; however, resources that are retained
continue to exist and continue to incur applicable charges until you delete
those resources.</p>
</div><div><p>For update operations, the following considerations apply:</p>
<ul>
<li>If a resource is deleted, the <code>DeletionPolicy</code> retains the physical
resource but ensures that it&#39;s deleted from CloudFormation&#39;s scope.</li>
<li>If a resource is updated such that a new physical resource is created to
replace the old resource, then the old resource is completely deleted,
including from CloudFormation&#39;s scope.</li>
</ul>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-enum-member tsd-parent-kind-enum"><a id="Snapshot" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Snapshot<a href="#Snapshot" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Snapshot<span class="tsd-signature-symbol"> = &quot;Snapshot&quot;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/squareballdigital/cfntemplate/blob/bc0b519/src/template/DeletionPolicy.ts#L84">template/DeletionPolicy.ts:84</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>For resources that support snapshots, CloudFormation creates a snapshot for
the resource before deleting it. When CloudFormation completes the stack
deletion, the stack will be in the <code>Delete_Complete</code> state; however, the
snapshots that are created with this policy continue to exist and continue
to incur applicable charges until you delete those snapshots.</p>
</div><div><p>Resources that support snapshots include:</p>
<ul>
<li><code>AWS::EC2::Volume</code></li>
<li><code>AWS::ElastiCache::CacheCluster</code></li>
<li><code>AWS::ElastiCache::ReplicationGroup</code></li>
<li><code>AWS::Neptune::DBCluster</code></li>
<li><code>AWS::RDS::DBCluster</code></li>
<li><code>AWS::RDS::DBInstance</code></li>
<li><code>AWS::Redshift::Cluster</code></li>
</ul>
</div></div></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-enum"><a href="DeletionPolicy.html" class="tsd-kind-icon">Deletion<wbr/>Policy</a><ul><li class="tsd-kind-enum-member tsd-parent-kind-enum"><a href="DeletionPolicy.html#Delete" class="tsd-kind-icon">Delete</a></li><li class="tsd-kind-enum-member tsd-parent-kind-enum"><a href="DeletionPolicy.html#Retain" class="tsd-kind-icon">Retain</a></li><li class="tsd-kind-enum-member tsd-parent-kind-enum"><a href="DeletionPolicy.html#Snapshot" class="tsd-kind-icon">Snapshot</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>